---
id: no_weekend_entry
type: filter
scope: time_structure
status: active
tags:
  - fx
  - filter
  - week_transition
---

# no_weekend_entry

## 目的
- 週末クローズ／週明けオープン付近の「構造断絶」による失敗を避けるため、
  新規エントリーを禁止する。

## 背景
- 週末は流動性が断絶しやすく、月曜オープンはギャップや初動フェイクが出やすい。
- 短期モメンタム系（初動継続を前提）の戦略では、期待値が崩れやすい。

## 定義（Contract）
- 対象は **新規エントリーのみ**（exit/強制クローズは扱わない）
- 禁止ルール（UTC基準の想定。実装はプロジェクトの timestamp に合わせる）：

### Entry 禁止（例：固定ルール）
- 金曜：20:00 UTC 以降は新規エントリー禁止
- 月曜：02:00 UTC までは新規エントリー禁止

> 注：時刻の固定値は最適化対象にしない。  
> 目的は「週跨ぎ由来の損失を切る」構造仮説の検証である。

## 実装メモ
- ts（10秒足の評価時刻）または entry_time（ts_next）基準のどちらで判定するかを明記すること。
  - 混乱を避けるため推奨：**評価時刻 ts で entry 可否を判定**し、禁止なら発注しない。
- timezone はデータの timestamp（多くは +00:00）に揃える。

## 期待される効果
- 週末付近の「行って来い」「ギャップ起点の逆行」由来の損失が減る
- trades が極端に減らず、sum_pnl のマイナスが縮む

## 注意
- 週跨ぎの全損失が消えるとは限らない（週中にも急変は起きる）
- exit を触ると戦略改変になりやすいので、まずは entry 禁止だけで検証する
