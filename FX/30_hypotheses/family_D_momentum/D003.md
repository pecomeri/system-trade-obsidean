---
strategy: D001_m1_momentum_burst_range_only
filters:
  - W1 only
  - H1 filter OFF（この仮説の差分）
regime: []
result: dead
---

# D003（family_D_momentum）：H1 filter OFF のみ

## 差分（D001から1つだけ）

- D001 からの差分は **H1 filter を OFF にするだけ**
  - W1_only は同一（ON）
  - strategy（M1 momentum burst）は D001 と同一
  - entry/exit/execution（10秒足は執行補助：次の10秒open）は D001 と同一
  - D002 の `m1_compression` は使わない（差分を増やさない）

## 実装参照

- `FX/code/backtest_runner.py`
  - `HypConfig.use_h1_trend_filter=False`（D003のみ）
  - `entry_mode="D_m1_momentum"`（D001と同一）
  - `regime_mode=None`（D002のcompressionは使わない）

## 出力先

- `FX/results/family_D_momentum/D003/`

## 検証結果（2024 verify / 2025 forward）

## 集計結果（summary_family_D_momentum.csv）

### D001（regimeなし・H1 ON・W1 ON）

- 2024 verify: `sum_pnl_pips=-560.0`, `trades=485`
- 2025 forward: `sum_pnl_pips=-198.0`, `trades=396`

### D002（m1_compression追加）

- 2024 verify: `sum_pnl_pips=+8.0`, `trades=19`
- 2025 forward: `sum_pnl_pips=-18.0`, `trades=26`

### D003（H1 filter OFF）

- 2024 verify: `sum_pnl_pips=-1106.0`, `trades=808`
- 2025 forward: `sum_pnl_pips=-604.0`, `trades=859`

## 比較観測（事実のみ）

### trade数の変化

- D001: 485 → 396
- D002: 19 → 26
- D003: 808 → 859

### pnlの変化

- D001: -560.0 → -198.0
- D002: +8.0 → -18.0
- D003: -1106.0 → -604.0

### verify → forward の再現性の有無

- D001: verify/forward とも `sum_pnl_pips` はマイナス
- D002: verify はプラス、forward はマイナス
- D003: verify/forward とも `sum_pnl_pips` はマイナス

## 判定

- judge: conditional
- 理由：`sum_pnl_pips` は verify/forward ともマイナスで、forward でもプラスにはなっていない。`trades` は 808→859 に増加している。

## 検証結論（研究ログ）

- D003（H1 filter OFF）をもって family_D_momentum の検証を打ち切る
- D001/D002/D003 を通じて、strategy（M1実体レンジ加速）は、regime 追加・filter調整を行っても、forward で一貫した改善を示さなかった
- よって family_D_momentum は dead と結論付ける
